{
	"info": {
		"_postman_id": "5deb2ea6-d10d-4b0f-a53b-b7a437255156",
		"name": "Park 1 API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Tests",
			"item": [
				{
					"name": "Users",
					"item": [
						{
							"name": "Get Administrator Token (valid)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    var responseData = JSON.parse(responseBody);\r",
											"    pm.collectionVariables.set(\"adminToken\", responseData.token);\r",
											"});\r",
											"pm.test(\"Body matches string\", function () {\r",
											"    pm.expect(pm.response.text()).to.include(\"token\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"Email\": \"user@secureapi.com\",\r\n    \"Password\": \"Pa$$w0rd.\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/user/token",
									"host": [
										"{{url}}api"
									],
									"path": [
										"user",
										"token"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Administrator Token (invalid password)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Body matches string\", function () {\r",
											"    pm.expect(pm.response.text()).to.include(\"Incorrect Credentials\");\r",
											"});\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"Email\": \"user@secureapi.com\",\r\n    \"Password\": \"Pa$$w0rd.x\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/user/token",
									"host": [
										"{{url}}api"
									],
									"path": [
										"user",
										"token"
									]
								}
							},
							"response": []
						},
						{
							"name": "User register (valid)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Body matches string\", function () {\r",
											"    pm.expect(pm.response.text()).to.include(\"User Registered\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"FirstName\": \"SapienSoft\",\r\n    \"LastName\": \"Lda.\",\r\n    \"UserName\": \"SapienSoft\",\r\n    \"Email\": \"sapiensoft@sapiensoft.com\",\r\n    \"Password\": \"SapienSoft123!\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/user/register",
									"host": [
										"{{url}}api"
									],
									"path": [
										"user",
										"register"
									]
								}
							},
							"response": []
						},
						{
							"name": "User register (existing e-mail)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Body matches string\", function () {\r",
											"    pm.expect(pm.response.text()).to.include(\"is already registered\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"FirstName\": \"SapienSoft\",\r\n    \"LastName\": \"Lda.\",\r\n    \"UserName\": \"SapienSoft2\",\r\n    \"Email\": \"sapiensoft@sapiensoft.com\",\r\n    \"Password\": \"SapienSoft123!\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/user/register",
									"host": [
										"{{url}}api"
									],
									"path": [
										"user",
										"register"
									]
								}
							},
							"response": []
						},
						{
							"name": "User register (existing username)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Body matches string\", function () {\r",
											"    pm.expect(pm.response.text()).to.include(\"chose another Username\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"FirstName\": \"SapienSoft\",\r\n    \"LastName\": \"Lda.\",\r\n    \"UserName\": \"SapienSoft\",\r\n    \"Email\": \"sapiensoft2@sapiensoft.com\",\r\n    \"Password\": \"SapienSoft123!\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/user/register",
									"host": [
										"{{url}}api"
									],
									"path": [
										"user",
										"register"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get User Token (valid)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    var responseData = JSON.parse(responseBody);\r",
											"    pm.collectionVariables.set(\"userToken\", responseData.token);    \r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"Email\": \"sapiensoft@sapiensoft.com\",\r\n    \"Password\": \"SapienSoft123!\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/user/token",
									"host": [
										"{{url}}api"
									],
									"path": [
										"user",
										"token"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get User Token (invalid password)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Body matches string\", function () {\r",
											"    pm.expect(pm.response.text()).to.include(\"Incorrect Credentials\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"Email\": \"sapiensoft@sapiensoft.com\",\r\n    \"Password\": \"SapienSoft1234!\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/user/token",
									"host": [
										"{{url}}api"
									],
									"path": [
										"user",
										"token"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get User Token (invalid email)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Body matches string\", function () {\r",
											"    pm.expect(pm.response.text()).to.include(\"No Accounts Registered\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"Email\": \"sapiensoft2@sapiensoft.com\",\r\n    \"Password\": \"SapienSoft123!\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/user/token",
									"host": [
										"{{url}}api"
									],
									"path": [
										"user",
										"token"
									]
								}
							},
							"response": []
						},
						{
							"name": "Change Admin Password (valid)",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIiwianRpIjoiMWMzNjA3ZTctNmM2Zi00ZGI1LTkzYTktNWZiODNkZmUyMThkIiwiZW1haWwiOiJ1c2VyQHNlY3VyZWFwaS5jb20iLCJ1aWQiOiIwMDJiY2I1NS0yY2YyLTQ3ZmEtOWY0Yi00NWQ4MWFmNzU5NjQiLCJyb2xlcyI6IkFkbWluaXN0cmF0b3IiLCJleHAiOjE2MTI3OTYxMjgsImlzcyI6IlNlY3VyZUFwaSIsImF1ZCI6IlNlY3VyZUFwaVVzZXIifQ.KFDpnEPE2g_KcmuEkHNf21dYyx6Yp_x9VMSzIBV4cXs",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"Email\": \"user@secureapi.com\",\r\n    \"CurrentPassword\": \"Pa$$w0rd.\",\r\n    \"NewPassword\":\"Admin123!\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/user/password",
									"host": [
										"{{url}}api"
									],
									"path": [
										"user",
										"password"
									]
								}
							},
							"response": []
						},
						{
							"name": "Change Admin Password (invalid)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIiwianRpIjoiMWMzNjA3ZTctNmM2Zi00ZGI1LTkzYTktNWZiODNkZmUyMThkIiwiZW1haWwiOiJ1c2VyQHNlY3VyZWFwaS5jb20iLCJ1aWQiOiIwMDJiY2I1NS0yY2YyLTQ3ZmEtOWY0Yi00NWQ4MWFmNzU5NjQiLCJyb2xlcyI6IkFkbWluaXN0cmF0b3IiLCJleHAiOjE2MTI3OTYxMjgsImlzcyI6IlNlY3VyZUFwaSIsImF1ZCI6IlNlY3VyZUFwaVVzZXIifQ.KFDpnEPE2g_KcmuEkHNf21dYyx6Yp_x9VMSzIBV4cXs",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"Email\": \"user@secureapi.com\",\r\n    \"CurrentPassword\": \"Pa$$w0rd.\",\r\n    \"NewPassword\":\"Admin123!\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/user/password",
									"host": [
										"{{url}}api"
									],
									"path": [
										"user",
										"password"
									]
								}
							},
							"response": []
						},
						{
							"name": "Change back Admin Password (valid)",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIiwianRpIjoiMWMzNjA3ZTctNmM2Zi00ZGI1LTkzYTktNWZiODNkZmUyMThkIiwiZW1haWwiOiJ1c2VyQHNlY3VyZWFwaS5jb20iLCJ1aWQiOiIwMDJiY2I1NS0yY2YyLTQ3ZmEtOWY0Yi00NWQ4MWFmNzU5NjQiLCJyb2xlcyI6IkFkbWluaXN0cmF0b3IiLCJleHAiOjE2MTI3OTYxMjgsImlzcyI6IlNlY3VyZUFwaSIsImF1ZCI6IlNlY3VyZUFwaVVzZXIifQ.KFDpnEPE2g_KcmuEkHNf21dYyx6Yp_x9VMSzIBV4cXs",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"Email\": \"user@secureapi.com\",\r\n    \"CurrentPassword\": \"Admin123!\",\r\n    \"NewPassword\":\"Pa$$w0rd.\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/user/password",
									"host": [
										"{{url}}api"
									],
									"path": [
										"user",
										"password"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Slots",
					"item": [
						{
							"name": "Get Slots with Admin Token (valid)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}api/slots",
									"host": [
										"{{url}}api"
									],
									"path": [
										"slots"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Slots with User Token (invalid)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(403);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{userToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}api/slots",
									"host": [
										"{{url}}api"
									],
									"path": [
										"slots"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Slot Id = 1 (valid)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}api/slots/1",
									"host": [
										"{{url}}api"
									],
									"path": [
										"slots",
										"1"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Slot Id = 99 (invalid)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}api/slots/99",
									"host": [
										"{{url}}api"
									],
									"path": [
										"slots",
										"99"
									]
								}
							},
							"response": []
						},
						{
							"name": "Post a new Slot",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"    var responseData = JSON.parse(responseBody);\r",
											"    pm.collectionVariables.set(\"slotId\", responseData.id);  \r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"Locator\": \"B01\",\r\n    \"Latitude\": 30,\r\n    \"Longitude\": -8,\r\n    \"ECharging\": true,\r\n    \"PricePerHour\": 1,\r\n    \"StatusId\": 1\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/slots",
									"host": [
										"{{url}}api"
									],
									"path": [
										"slots"
									]
								}
							},
							"response": []
						},
						{
							"name": "Confirm that the new Slot exists",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);  \r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}api/slots/{{slotId}}",
									"host": [
										"{{url}}api"
									],
									"path": [
										"slots",
										"{{slotId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete recent created slot",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminToken}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{url}}api/slots/{{slotId}}",
									"host": [
										"{{url}}api"
									],
									"path": [
										"slots",
										"{{slotId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete inexistent Slot (invalid)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminToken}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{url}}api/slots/999",
									"host": [
										"{{url}}api"
									],
									"path": [
										"slots",
										"999"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Slot after delete (invalid)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}api/slots/{{slotId}}",
									"host": [
										"{{url}}api"
									],
									"path": [
										"slots",
										"{{slotId}}"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Reservations",
					"item": [
						{
							"name": "Get all Reservations (no registration, 401 error)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}api/reservations/",
									"host": [
										"{{url}}api"
									],
									"path": [
										"reservations",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Get all Reservations (User Token, 403 error)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(403);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{userToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}api/reservations/",
									"host": [
										"{{url}}api"
									],
									"path": [
										"reservations",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Get all Reservations (Admin Token, 200 OK)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}api/reservations/",
									"host": [
										"{{url}}api"
									],
									"path": [
										"reservations",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Book Reservation (unauthorized)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"Start\": \"2021-12-01T12:00:00\",\r\n    \"End\": \"2021-12-02T12:00:00\",\r\n    \"SlotId\": 1\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/reservations/",
									"host": [
										"{{url}}api"
									],
									"path": [
										"reservations",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Book Reservation (authorized, user)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    var responseData = JSON.parse(responseBody);\r",
											"    pm.collectionVariables.set(\"reservationId\", responseData.id);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{userToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"Start\": \"2021-03-01T12:00:00\",\r\n    \"End\": \"2021-03-02T12:00:00\",\r\n    \"SlotId\": 1\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/reservations/booking",
									"host": [
										"{{url}}api"
									],
									"path": [
										"reservations",
										"booking"
									]
								}
							},
							"response": []
						},
						{
							"name": "Book Reservation (authorized, admin)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"    var responseData = JSON.parse(responseBody);\r",
											"    pm.collectionVariables.set(\"reservationId2\", responseData.id);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"Start\": \"2021-03-01T12:00:00\",\r\n    \"End\": \"2021-03-02T12:00:00\",\r\n    \"SlotId\": 1\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/reservations/booking",
									"host": [
										"{{url}}api"
									],
									"path": [
										"reservations",
										"booking"
									]
								}
							},
							"response": []
						},
						{
							"name": "Book Reservation (conflict with other reservation, 400 Bad Request)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(400);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{userToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"Start\": \"2021-06-01T12:00:00\",\r\n    \"End\": \"2021-06-02T12:00:00\",\r\n    \"SlotId\": 1\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}api/reservations/booking",
									"host": [
										"{{url}}api"
									],
									"path": [
										"reservations",
										"booking"
									]
								}
							},
							"response": []
						},
						{
							"name": "Retrieve Registration created (valid)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{userToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}api/reservations/{{reservationId}}",
									"host": [
										"{{url}}api"
									],
									"path": [
										"reservations",
										"{{reservationId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "User tries to retrieve admin reservation (invalid)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{userToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}api/reservations/{{reservationId2}}",
									"host": [
										"{{url}}api"
									],
									"path": [
										"reservations",
										"{{reservationId2}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Retrieve Registration created (valid) Copy 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}api/reservations/",
									"host": [
										"{{url}}api"
									],
									"path": [
										"reservations",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Cancel a reservation (invalid authorization)",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{userToken}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{url}}api/reservations/{{reservationId}}",
									"host": [
										"{{url}}api"
									],
									"path": [
										"reservations",
										"{{reservationId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Cancel a reservation (valid authorization, user reservation)",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{userToken}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{url}}api/reservations/{{reservationId}}",
									"host": [
										"{{url}}api"
									],
									"path": [
										"reservations",
										"{{reservationId}}"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Status",
					"item": []
				}
			]
		},
		{
			"name": "Helper",
			"item": [
				{
					"name": "https://localhost:44366/api/reservations/available/2022-01-01T12:00:00/2023-01-01T12:00:00",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhYWx2ZXMiLCJqdGkiOiJmYjE0MjViZC05ZDg0LTQyNzMtYTczMy01MTMxZWZiYWYxYTgiLCJlbWFpbCI6ImFhbHZlc0BnbWFpbC5jb20iLCJ1aWQiOiJhMmE1MDRkZC05ODNkLTQ4NWMtYTQ4MC02M2NlNTA4NWRkOTQiLCJyb2xlcyI6WyJBZG1pbmlzdHJhdG9yIiwiTW9kZXJhdG9yIl0sImV4cCI6MTYxMjM3NDYzNCwiaXNzIjoiU2VjdXJlQXBpIiwiYXVkIjoiU2VjdXJlQXBpVXNlciJ9.7wkZmcguN2MRWCQsOLjHaKrGkTZYdHlOcZWJts83CIc",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}api/reservations/available?start=2021-09-01T12:00:00&end=2021-10-01T12:00:00&echarging=false",
							"host": [
								"{{url}}api"
							],
							"path": [
								"reservations",
								"available"
							],
							"query": [
								{
									"key": "start",
									"value": "2021-09-01T12:00:00"
								},
								{
									"key": "end",
									"value": "2021-10-01T12:00:00"
								},
								{
									"key": "echarging",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "/api/register",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"FirstName\": \"Alexandre\",\r\n    \"LastName\": \"Alves\",\r\n    \"UserName\": \"aalves\",\r\n    \"Email\": \"aalves@gmail.com\",\r\n    \"Password\": \"Alex123!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}api/user/register",
							"host": [
								"{{url}}api"
							],
							"path": [
								"user",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "/api/user/token",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"Email\": \"aalves@gmail.com\",\r\n    \"Password\": \"Alex123!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}api/user/token",
							"host": [
								"{{url}}api"
							],
							"path": [
								"user",
								"token"
							]
						}
					},
					"response": []
				},
				{
					"name": "/api/user/token (Admin)",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"Email\": \"user@secureapi.com\",\r\n    \"Password\": \"Pa$$w0rd.\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}api/user/token",
							"host": [
								"{{url}}api"
							],
							"path": [
								"user",
								"token"
							]
						}
					},
					"response": []
				},
				{
					"name": "/api/reservations/booking",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhYWx2ZXMiLCJqdGkiOiJmYjE0MjViZC05ZDg0LTQyNzMtYTczMy01MTMxZWZiYWYxYTgiLCJlbWFpbCI6ImFhbHZlc0BnbWFpbC5jb20iLCJ1aWQiOiJhMmE1MDRkZC05ODNkLTQ4NWMtYTQ4MC02M2NlNTA4NWRkOTQiLCJyb2xlcyI6WyJBZG1pbmlzdHJhdG9yIiwiTW9kZXJhdG9yIl0sImV4cCI6MTYxMjM3NDYzNCwiaXNzIjoiU2VjdXJlQXBpIiwiYXVkIjoiU2VjdXJlQXBpVXNlciJ9.7wkZmcguN2MRWCQsOLjHaKrGkTZYdHlOcZWJts83CIc",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"SlotId\":1,\r\n    \"Start\":\"2021-04-01T12:00:00\",\r\n    \"End\":\"2021-05-01T12:00:00\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}api/reservations/booking",
							"host": [
								"{{url}}api"
							],
							"path": [
								"reservations",
								"booking"
							]
						}
					},
					"response": []
				},
				{
					"name": "/api/user/addrole",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIiwianRpIjoiMTRiOWYxMTQtY2QxMC00ZmUwLTgwYTYtMDkzOTJjMzc4NDE3IiwiZW1haWwiOiJ1c2VyQHNlY3VyZWFwaS5jb20iLCJ1aWQiOiIxOTNkMjI0OS05MzcyLTQxOTUtOTFmZi0wMjgwODk5Nzc3NzciLCJyb2xlcyI6IkFkbWluaXN0cmF0b3IiLCJleHAiOjE2MTIzNzQ2MDcsImlzcyI6IlNlY3VyZUFwaSIsImF1ZCI6IlNlY3VyZUFwaVVzZXIifQ.u0NmhbRE3RfKCLUlOuIA0AfS4onnVRf135p4i6ug7bU",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"Email\" : \"aalves@gmail.com\",\r\n    \"Role\":\"Moderator\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}api/user/addrole",
							"host": [
								"{{url}}api"
							],
							"path": [
								"user",
								"addrole"
							]
						}
					},
					"response": []
				},
				{
					"name": "{{url}}api/user/password",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIiwianRpIjoiMWMzNjA3ZTctNmM2Zi00ZGI1LTkzYTktNWZiODNkZmUyMThkIiwiZW1haWwiOiJ1c2VyQHNlY3VyZWFwaS5jb20iLCJ1aWQiOiIwMDJiY2I1NS0yY2YyLTQ3ZmEtOWY0Yi00NWQ4MWFmNzU5NjQiLCJyb2xlcyI6IkFkbWluaXN0cmF0b3IiLCJleHAiOjE2MTI3OTYxMjgsImlzcyI6IlNlY3VyZUFwaSIsImF1ZCI6IlNlY3VyZUFwaVVzZXIifQ.KFDpnEPE2g_KcmuEkHNf21dYyx6Yp_x9VMSzIBV4cXs",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"Email\": \"user@secureapi.com\",\r\n    \"CurrentPassword\": \"Pa$$w0rd.\",\r\n    \"NewPassword\":\"Admin123!\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}api/user/password",
							"host": [
								"{{url}}api"
							],
							"path": [
								"user",
								"password"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "url",
			"value": "https://localhost:44361/"
		},
		{
			"key": "adminToken",
			"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ1c2VyIiwianRpIjoiYzY2N2Q0OTQtMzYwNC00ZTBlLWI4NmUtNGRlZDYwNGRjMDFlIiwiZW1haWwiOiJ1c2VyQHNlY3VyZWFwaS5jb20iLCJ1aWQiOiJkMDBjOGFjZS1mMDMzLTQ5NTktOGMwOC1iMDBmODI0ZWE2OTEiLCJyb2xlcyI6IkFkbWluaXN0cmF0b3IiLCJleHAiOjE2MTI4OTUxMDUsImlzcyI6IlNlY3VyZUFwaSIsImF1ZCI6IlNlY3VyZUFwaVVzZXIifQ.ixBQtzDPaQRJz-YpSP2GBK4d94hkIFPLXjLl0YqGzhs"
		},
		{
			"key": "userToken",
			"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJTYXBpZW5Tb2Z0IiwianRpIjoiNDczMTE1MjgtNTJhNy00MzA1LWJlNTUtZDExMjJjMDk5YmRlIiwiZW1haWwiOiJzYXBpZW5zb2Z0QHNhcGllbnNvZnQuY29tIiwidWlkIjoiZGUzYjdlODItNmI1OS00NTFlLTg0MjUtMmNjYmYxYTMyMWEwIiwicm9sZXMiOiJVc2VyIiwiZXhwIjoxNjEyODk1MTA2LCJpc3MiOiJTZWN1cmVBcGkiLCJhdWQiOiJTZWN1cmVBcGlVc2VyIn0.Ozk21MY7dsLfCuJzRMdJp-GZU8zm8OH6L28leZCIUSs"
		},
		{
			"key": "slotId",
			"value": 7
		},
		{
			"key": "reservationId",
			"value": 1
		},
		{
			"key": "reservationId2",
			"value": 3
		}
	]
}